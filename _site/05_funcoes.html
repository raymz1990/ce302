<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>5 Funções e Expressões</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="./01_markdown_git.html" rel="" target="">
 <span class="menu-text">Documentação</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./02_basicR.html" rel="" target="">
 <span class="menu-text">Ambiente R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./03_objects.html" rel="" target="">
 <span class="menu-text">Objetos em R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./04_transfomacao-de-dados.html" rel="" target="">
 <span class="menu-text">Transformação de Dados</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./05_funcoes.html" rel="" target="" aria-current="page">
 <span class="menu-text">Funções</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./06_loopings.html" rel="" target="">
 <span class="menu-text">Loopings</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./07_graphics.html" rel="" target="">
 <span class="menu-text">Gráficos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./08_comunicacao.html" rel="" target="">
 <span class="menu-text">Comunicação</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-cheat-sheet" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Cheat Sheet</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-cheat-sheet">
<li>
    <a class="dropdown-item" href="./10_markdown_cheatsheet.html" rel="" target="">
 <span class="dropdown-text">Markdown Cheat Sheet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./11_git_cheatsheet.html" rel="" target="">
 <span class="dropdown-text">Git Cheat Sheet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./12_git_rstudio_cheatsheet.html" rel="" target="">
 <span class="dropdown-text">Git RStudio Cheat Sheet</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-listas" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Listas</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-listas">
<li>
    <a class="dropdown-item" href="./listas/Lista1.html" rel="" target="">
 <span class="dropdown-text">Lista 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./listas/Lista2.html" rel="" target="">
 <span class="dropdown-text">Lista 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./listas/Lista3.html" rel="" target="">
 <span class="dropdown-text">Lista 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./listas/Lista4.html" rel="" target="">
 <span class="dropdown-text">Lista 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./listas/Lista5.html" rel="" target="">
 <span class="dropdown-text">Lista 05</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-scripts-aulas" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Scripts Aulas</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-scripts-aulas">
<li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_02.html" rel="" target="">
 <span class="dropdown-text">Aula 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_03.html" rel="" target="">
 <span class="dropdown-text">Aula 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_04.html" rel="" target="">
 <span class="dropdown-text">Aula 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_05.html" rel="" target="">
 <span class="dropdown-text">Aula 05</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_07.html" rel="" target="">
 <span class="dropdown-text">Aula 07</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_08.html" rel="" target="">
 <span class="dropdown-text">Aula 08</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_09.html" rel="" target="">
 <span class="dropdown-text">Aula 09</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_10.html" rel="" target="">
 <span class="dropdown-text">Aula 10</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts_aulas/Aula_11.html" rel="" target="">
 <span class="dropdown-text">Aula 11</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-modelos" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Modelos</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-modelos">
<li>
    <a class="dropdown-item" href="./modelos_relatorios/01_exemplo_slide.html" rel="" target="">
 <span class="dropdown-text">Modelo Slide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_relatorios/02_exemplo_relatorio.html" rel="" target="">
 <span class="dropdown-text">Modelo Relatório</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_relatorios/03_exemplo_referencia.html" rel="" target="">
 <span class="dropdown-text">Modelo Referência Bibliográfica</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_relatorios/04_exemplo_shiny.html" rel="" target="">
 <span class="dropdown-text">Modelo Shiny</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_relatorios/05_exemplo_shiny_dash.html" rel="" target="">
 <span class="dropdown-text">Modelo Dashboard Shiny</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_relatorios/06_exemplo_scss.html" rel="" target="">
 <span class="dropdown-text">Modelo SCSS</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-provas" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Provas</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-provas">
<li>
    <a class="dropdown-item" href="./avaliacoes/avaliação_01.html" rel="" target="">
 <span class="dropdown-text">Prova 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./avaliacoes/avaliação_01.html" rel="" target="">
 <span class="dropdown-text">Prova 02</span></a>
  </li>  
    </ul>
</li>
</ul>
<div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#fun%C3%A7%C3%B5es" id="toc-funções" class="nav-link active" data-scroll-target="#fun%C3%A7%C3%B5es">5.1 Funções</a>
  <ul class="collapse">
<li><a href="#exemplo" id="toc-exemplo" class="nav-link" data-scroll-target="#exemplo">5.1.1 Exemplo</a></li>
  <li><a href="#mensagens" id="toc-mensagens" class="nav-link" data-scroll-target="#mensagens">5.1.2 Mensagens</a></li>
  </ul>
</li>
  <li>
<a href="#controle-de-fluxo" id="toc-controle-de-fluxo" class="nav-link" data-scroll-target="#controle-de-fluxo">5.2 Controle de Fluxo</a>
  <ul class="collapse">
<li><a href="#estruturas-condicionais-if-else" id="toc-estruturas-condicionais-if-else" class="nav-link" data-scroll-target="#estruturas-condicionais-if-else">5.2.1 Estruturas Condicionais (If-else)</a></li>
  <li><a href="#if_else-e-ifelse" id="toc-if_else-e-ifelse" class="nav-link" data-scroll-target="#if_else-e-ifelse">5.2.2 If_else e ifelse</a></li>
  <li><a href="#switch" id="toc-switch" class="nav-link" data-scroll-target="#switch">5.2.3 Switch</a></li>
  <li><a href="#case_when" id="toc-case_when" class="nav-link" data-scroll-target="#case_when">5.2.4 <code>case_when</code></a></li>
  <li><a href="#exerc%C3%ADcios" id="toc-exercícios" class="nav-link" data-scroll-target="#exerc%C3%ADcios">5.2.5 Exercícios</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/RVerse-Tutorials/QmdReport/edit/main/05_funcoes.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/RVerse-Tutorials/QmdReport/blob/main/05_funcoes.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/RVerse-Tutorials/QmdReport/issues/new" class="toc-action">Report an issue</a></p></div></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="05_funcoes.docx"><i class="bi bi-file-word"></i>MS Word</a></li><li><a href="05_funcoes.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">5 Funções e Expressões</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="funções" class="level2"><h2 class="anchored" data-anchor-id="funções">5.1 Funções</h2>
<p>Uma função é um conjunto de instruções que realizam uma tarefa específica quando chamadas. Elas desempenham um papel crucial na programação, permitindo a modularização e <strong>reutilização do código</strong>. As funções em <code>R</code> seguem uma estrutura geral:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">nome_da_funcao</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">argumentos</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Corpo da função</span></span>
<span>  <span class="co"># Instruções para realizar a tarefa</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">resultado</span><span class="op">)</span> <span class="co"># Resultado da função</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong>nome_da_funcao</strong>: É o nome atribuído à função, que deve ser descritivo e significativo.</p></li>
<li><p><strong>argumentos</strong>: São os parâmetros que a função recebe como entrada. Eles podem ser opcionais ou obrigatórios, dependendo da função.</p></li>
<li><p><strong>Corpo da função</strong>: É onde as operações desejadas são definidas usando R.</p></li>
<li><p><strong>return(resultado)</strong>: A função pode opcionalmente retornar um resultado calculado. Se não especificado, a função retorna implicitamente o último valor calculado. É uma boa prática explicitamente definir o que a função deve retornar.</p></li>
</ul>
<section id="exemplo" class="level3"><h3 class="anchored" data-anchor-id="exemplo">5.1.1 Exemplo</h3>
<p>Suponha que temos interesse em calcular a média de uma determinada variável em um banco de dados e gostaríamos de aplicar essa função diversas vezes. Vamos demonstrar isso utilizando o banco de dados “iris”.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">media_sepal_len</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">media_sepal_len</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.84</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">media_sepal_wid</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">media_sepal_wid</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.06</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">media_petal_len</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">media_petal_len</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.76</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">media_petal_wid</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">media_petal_wid</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.2</code></pre>
</div>
</div>
<p>Temos de repetir a mesma operação quatro vezes. Poderiamos simplesmente criar uma função chamada <em><code>média</code></em> e não precisar repetir o mesmo procedimento multiplas vezes. Vamos definir nossa primeira função em R.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">minha_media</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor_de_dados</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">vetor_de_dados</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vetor_de_dados</span><span class="op">)</span></span>
<span>  <span class="va">media</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">media</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">media</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">minha_media</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.84</code></pre>
</div>
</div>
<p>Suponha que tenhamos interesse em que o número de casas decimais seja definido pelo usuário:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">minha_media_arredond</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor_de_dados</span>, <span class="va">arredondamento</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">vetor_de_dados</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vetor_de_dados</span><span class="op">)</span></span>
<span>  <span class="va">media</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">media</span>, <span class="va">arredondamento</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">media</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">minha_media</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.84</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">minha_media_arredond</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.84333</code></pre>
</div>
</div>
<p>Podemos estar interessados em calcular o Desvio Padrão Amostral.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">meu_desvio_padrao_amostral</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">&lt;-</span> <span class="fu">minha_media_arredond</span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span> </span>
<span>  <span class="va">diferenca</span> <span class="op">&lt;-</span> <span class="va">vetor</span> <span class="op">-</span> <span class="va">media</span>  <span class="co"># Calcula as diferenças em relação à média</span></span>
<span>  <span class="va">quadrados</span> <span class="op">&lt;-</span> <span class="va">diferenca</span><span class="op">^</span><span class="fl">2</span>  <span class="co"># Calcula os quadrados das diferenças</span></span>
<span>  <span class="va">variancia</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">quadrados</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span>  <span class="co"># Calcula a variância</span></span>
<span>  <span class="va">desvio_padrao</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">variancia</span><span class="op">)</span>  <span class="co"># Calcula o desvio padrão</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">desvio_padrao</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">meu_desvio_padrao_amostral</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8280661</code></pre>
</div>
</div>
<p>Com o desvio padrão amostral e a média podemos calcular o coeficiente de variação (CV). O CV é dado por <span class="math display">\[CV = \frac{Desvio \ Padrão}{Média} \ X \ 100\]</span></p>
<p>Podemos implementar essa função, e para isso, podemos utilizar as duas funções que implementamos anteriormente.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">meu_coeficiente_variacao</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor</span>, <span class="va">arredondamento</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">&lt;-</span> <span class="fu">minha_media_arredond</span><span class="op">(</span><span class="va">vetor</span>, arredondamento <span class="op">=</span> <span class="va">arredondamento</span><span class="op">)</span>  <span class="co"># Calcula a média</span></span>
<span>  <span class="va">desvio_padrao</span> <span class="op">&lt;-</span> <span class="fu">meu_desvio_padrao_amostral</span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span>  <span class="co"># Calcula o desvio padrão</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">desvio_padrao</span> <span class="op">/</span> <span class="va">media</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>  <span class="co"># Calcula o CV em porcentagem</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">coeficiente_variacao</span>, <span class="va">arredondamento</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">coeficiente_variacao</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">meu_coeficiente_variacao</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, arredondamento <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.18</code></pre>
</div>
</div>
<p>Suponha que temos interesse em retornar ao usuário mais do que um valor, no nosso exemplo do CV temos interesse em retornar a média, o desvio padrão e o CV. Podemos fazer isso de diversas maneiras, aqui veremos apenas duas: retornar um data.frame e uma lista nomeada.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">meu_coeficiente_variacao2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor</span>, <span class="va">arredondamento</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">&lt;-</span> <span class="fu">minha_media_arredond</span><span class="op">(</span><span class="va">vetor</span>, arredondamento <span class="op">=</span> <span class="va">arredondamento</span><span class="op">)</span>  <span class="co"># Calcula a média</span></span>
<span>  <span class="va">desvio_padrao</span> <span class="op">&lt;-</span> <span class="fu">meu_desvio_padrao_amostral</span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span>  <span class="co"># Calcula o desvio padrão</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">desvio_padrao</span> <span class="op">/</span> <span class="va">media</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>  <span class="co"># Calcula o CV em porcentagem</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">coeficiente_variacao</span>, <span class="va">arredondamento</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>CV <span class="op">=</span> <span class="va">coeficiente_variacao</span>, </span>
<span>                    média <span class="op">=</span> <span class="va">media</span>, </span>
<span>                    dp <span class="op">=</span> <span class="va">desvio_padrao</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">meu_coeficiente_variacao2</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, arredondamento <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     CV média        dp
1 14.18  5.84 0.8280661</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">meu_coeficiente_variacao3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vetor</span>, <span class="va">arredondamento</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">media</span> <span class="op">&lt;-</span> <span class="fu">minha_media_arredond</span><span class="op">(</span><span class="va">vetor</span>, arredondamento <span class="op">=</span> <span class="va">arredondamento</span><span class="op">)</span>  <span class="co"># Calcula a média</span></span>
<span>  <span class="va">desvio_padrao</span> <span class="op">&lt;-</span> <span class="fu">meu_desvio_padrao_amostral</span><span class="op">(</span><span class="va">vetor</span><span class="op">)</span>  <span class="co"># Calcula o desvio padrão</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">desvio_padrao</span> <span class="op">/</span> <span class="va">media</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>  <span class="co"># Calcula o CV em porcentagem</span></span>
<span>  <span class="va">coeficiente_variacao</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">coeficiente_variacao</span>, <span class="va">arredondamento</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>CV <span class="op">=</span> <span class="va">coeficiente_variacao</span>, </span>
<span>              média <span class="op">=</span> <span class="va">media</span>, </span>
<span>              dp <span class="op">=</span> <span class="va">desvio_padrao</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">meu_coeficiente_variacao3</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, arredondamento <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$CV
[1] 14.18

$média
[1] 5.84

$dp
[1] 0.8280661</code></pre>
</div>
</div>
</section><section id="mensagens" class="level3"><h3 class="anchored" data-anchor-id="mensagens">5.1.2 Mensagens</h3>
<p>No R existem diversos tipos de mensagem que podem ser geradas dentro de uma função, as principais são as <em>messages</em> e os <em>warnings</em>.</p>
<p>As mensagens em R são usadas para fornecer informações ou feedback ao usuário durante a execução de uma função ou script. Elas são úteis para comunicar detalhes sobre o progresso do código ou resultados intermediários.</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">5</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">"O valor de x é negativo."</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>O valor de x é negativo.</code></pre>
</div>
</div>
<p>Os warnings são mensagens que alertam o usuário sobre situações que não são necessariamente erros, mas que podem indicar problemas ou comportamentos inesperados em um código. Eles são geralmente usados para chamar a atenção do usuário para possíveis questões que precisam ser consideradas. No entanto, o código continuará sendo executado após a exibição de um aviso.</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">5</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/warning.html">warning</a></span><span class="op">(</span><span class="st">"O valor de x é negativo."</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: O valor de x é negativo.</code></pre>
</div>
</div>
<p>Também podemos forçar a parada da função caso seja um erro.</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">5</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"O valor de x é negativo."</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="controle-de-fluxo" class="level2"><h2 class="anchored" data-anchor-id="controle-de-fluxo">5.2 Controle de Fluxo</h2>
<p>O controle de fluxo refere-se às estruturas que permitem tomada de decisões e execução de diferentes blocos com base em condições específicas. Podemos usar várias construções para controlar o fluxo de execução, as principais são: Estruturas Condionais e Estruturas de Repetição. Na aula de hoje focaremos apenas nas estruturas condicionais e na próxima em estruturas de repetição.</p>
<section id="estruturas-condicionais-if-else" class="level3"><h3 class="anchored" data-anchor-id="estruturas-condicionais-if-else">5.2.1 Estruturas Condicionais (If-else)</h3>
<p>As estruturas condicionais permitem a execução um bloco de código se uma condição for verdadeira e outro bloco de código se a condição for falsa.</p>
<p>A estrutura é basicamente:</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">condicao</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Código a ser executado se a condição for verdadeira</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="co"># Código a ser executado se a condição for falsa</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Exemplo:</p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">idade</span> <span class="op">&lt;-</span> <span class="fl">25</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">idade</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Você é maior de idade.\n"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Você é menor de idade.\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Você é maior de idade.</code></pre>
</div>
</div>
<p>As estruturas condicionais podem ser aninhadas, por exemplo, podemos ter interesse em classificar as notas dos alunos em diferentes faixas, como “A”, “B”, “C” ou “D”, com base na pontuação. As notas são geralmente classificadas de acordo com um intervalo específico de pontos. Notas acima de 90 são consideradas A, notas entre 80 e 90 são B, notas entre 70 e 80 são C, ou D caso contrário.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pontuacao</span> <span class="op">=</span> <span class="fl">90</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">90</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">nota</span> <span class="op">=</span> <span class="st">"A"</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">80</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">nota</span> <span class="op">=</span> <span class="st">"B"</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">70</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">nota</span> <span class="op">=</span> <span class="st">"C"</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">nota</span> <span class="op">=</span> <span class="st">"D"</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">nota</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A"</code></pre>
</div>
</div>
<p>Poderíamos estar interessados em realizar esse procedimento múltiplas vezes, e uma forma de resolvermos esse problema podemos simplesmente passar para uma função:</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">classifica_nota</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pontuacao</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">90</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">nota</span> <span class="op">&lt;-</span> <span class="st">"A"</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">80</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">nota</span> <span class="op">&lt;-</span> <span class="st">"B"</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="va">pontuacao</span> <span class="op">&gt;=</span> <span class="fl">70</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">nota</span> <span class="op">&lt;-</span> <span class="st">"C"</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">nota</span> <span class="op">&lt;-</span> <span class="st">"D"</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"A nota do aluno é:"</span>, <span class="va">nota</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">nota</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">pontuacao_aluno</span> <span class="op">&lt;-</span> <span class="fl">85</span></span>
<span><span class="va">nota</span> <span class="op">&lt;-</span> <span class="fu">classifica_nota</span><span class="op">(</span><span class="va">pontuacao_aluno</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A nota do aluno é: B</code></pre>
</div>
</div>
<p>Podemos estar interessado em criar uma função para determinarmos o <strong>Quadrante de um Ponto no Plano Cartesiano</strong>, essa função recebe como entrada dois valores, as coordenadas (x, y).</p>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">quadrante</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">y</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">quadrante</span> <span class="op">=</span> <span class="st">"Quadrante 1"</span></span>
<span>      </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"O ponto ("</span>, <span class="va">x</span>, <span class="st">", "</span>, <span class="va">y</span>, <span class="st">") pertence ao "</span>,  <span class="va">quadrante</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">quadrante</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">quadrante</span> <span class="op">=</span> <span class="st">"Quadrante 4"</span></span>
<span>      </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"O ponto ("</span>, <span class="va">x</span>, <span class="st">", "</span>, <span class="va">y</span>, <span class="st">") pertence ao "</span>,  <span class="va">quadrante</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">y</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">quadrante</span> <span class="op">=</span> <span class="st">"Quadrante 2"</span></span>
<span>      </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"O ponto ("</span>, <span class="va">x</span>, <span class="st">", "</span>, <span class="va">y</span>, <span class="st">") pertence ao "</span>,  <span class="va">quadrante</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">quadrante</span> <span class="op">=</span> <span class="st">"Quadrante 3"</span></span>
<span>      </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"O ponto ("</span>, <span class="va">x</span>, <span class="st">", "</span>, <span class="va">y</span>, <span class="st">") pertence ao "</span>,  <span class="va">quadrante</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu">quadrante</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>O ponto (1, 1) pertence ao Quadrante 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Quadrante 1"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">quadrante</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>O ponto (-1, 1) pertence ao Quadrante 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">quadrante</span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>O ponto (1, -1) pertence ao Quadrante 4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">quadrante</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>O ponto (-1, -1) pertence ao Quadrante 3</code></pre>
</div>
</div>
</section><section id="if_else-e-ifelse" class="level3"><h3 class="anchored" data-anchor-id="if_else-e-ifelse">5.2.2 If_else e ifelse</h3>
<p>Muitas vezes precisamos codificar valores de uma variável dentro de um banco de dados. Para isso, podemos utilizar as funções <code>if_else</code> ou <code>ifelse</code>.</p>
<p>Suponha que queremos classificar o comprimento das pétalas em “longa”ou “curta”, para isso podemos fazer como segue:</p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: magrittr</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: dplyr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/compound.html">%&lt;&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cat_petal.len <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Petal.Length</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Petal.Length</span><span class="op">)</span>, <span class="st">"Longa"</span>, <span class="st">"Curta"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/compound.html">%&lt;&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cat_petal.len2 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">Petal.Length</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Petal.Length</span><span class="op">)</span>, <span class="st">"Longa"</span>, <span class="st">"Curta"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="switch" class="level3"><h3 class="anchored" data-anchor-id="switch">5.2.3 Switch</h3>
<p>O comando <code>switch</code> é outra construção de controle de fluxo que permite escolher entre várias alternativas com base em um valor especificado. É útil quando você precisa executar um bloco de código diferente para diferentes valores de uma variável. A sintaxe básica do switch em R é a seguinte:</p>
<div class="cell">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/switch.html">switch</a></span><span class="op">(</span><span class="va">expressao</span>, <span class="va">caso1</span>, <span class="va">caso2</span>, <span class="va">...</span>, <span class="va">casoN</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dia_da_semana</span> <span class="op">&lt;-</span> <span class="st">"segunda"</span></span>
<span></span>
<span><span class="va">mensagem</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html">switch</a></span><span class="op">(</span><span class="va">dia_da_semana</span>,</span>
<span>  <span class="st">"segunda"</span> <span class="op">=</span> <span class="st">"Hoje é segunda-feira."</span>,</span>
<span>  <span class="st">"terca"</span> <span class="op">=</span> <span class="st">"Hoje é terça-feira."</span>,</span>
<span>  <span class="st">"quarta"</span> <span class="op">=</span> <span class="st">"Hoje é quarta-feira."</span>,</span>
<span>  <span class="st">"quinta"</span> <span class="op">=</span> <span class="st">"Hoje é quinta-feira."</span>,</span>
<span>  <span class="st">"sexta"</span> <span class="op">=</span> <span class="st">"Hoje é sexta-feira."</span>,</span>
<span>  <span class="st">"sabado"</span> <span class="op">=</span> <span class="st">"Hoje é sábado."</span>,</span>
<span>  <span class="st">"domingo"</span> <span class="op">=</span> <span class="st">"Hoje é domingo."</span>,</span>
<span>  <span class="st">"Outro"</span> <span class="op">=</span> <span class="st">"Dia não reconhecido."</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">mensagem</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hoje é segunda-feira.</code></pre>
</div>
</div>
</section><section id="case_when" class="level3"><h3 class="anchored" data-anchor-id="case_when">5.2.4 <code>case_when</code>
</h3>
<p>Similar ao <code>ifelse</code>, temos o <code>case_when</code> quando nosso interesse está em codificar variáveis de um banco de dados.</p>
<p>Tomemos como exemplo as medidas das sépalas, agora queremos agrupar em três categorias:</p>
<ul>
<li><p>X &lt; média - 1 desvio</p></li>
<li><p>média - 1 desvio &lt; X &lt; média + 1 desvio</p></li>
<li><p>X &gt; média + 1 desvio</p></li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iris</span><span class="op">$</span><span class="va">cat_sepal</span> <span class="op">=</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span> <span class="st">"X &lt; media - 1 sd"</span>, </span>
<span>            <span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span> <span class="st">"X &lt; media + 1 sd"</span>, </span>
<span>            .default <span class="op">=</span> <span class="st">"X &gt; media + 1 sd"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="exercícios" class="level3"><h3 class="anchored" data-anchor-id="exercícios">5.2.5 Exercícios</h3>
<ol type="1">
<li>
<strong>Classificação do Combustível do Meio de Transporte</strong>: Crie uma função chamada <code>classifica_combustivel</code> que recebe o nome de um meio de transporte como argumento e retorna o tipo de combustível que esse meio de transporte utiliza. Considere os seguintes meios de transporte e seus respectivos tipos de combustível:</li>
</ol>
<ul>
<li><p>Carro: Gasolina ou Diesel</p></li>
<li><p>Moto: Gasolina</p></li>
<li><p>Bicicleta: Humana (sem combustível)</p></li>
<li><p>Ônibus: Diesel ou Gás Natural</p></li>
<li><p>Trem: Eletricidade ou Diesel</p></li>
<li><p>Avião: Querosene</p></li>
<li><p>Barco: Diesel ou Gasolina</p></li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">classifica_combustivel</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">meio_de_transporte</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">meio_de_transporte</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">meio_de_transporte</span><span class="op">)</span>  <span class="co"># Converter para minúsculas para facilitar a comparação</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">meio_de_transporte</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"carro"</span>, <span class="st">"moto"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Gasolina ou Diesel"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">meio_de_transporte</span> <span class="op">==</span> <span class="st">"bicicleta"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Humana (sem combustível)"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">meio_de_transporte</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ônibus"</span>, <span class="st">"trem"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Diesel ou Gás Natural"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">meio_de_transporte</span> <span class="op">==</span> <span class="st">"avião"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Querosene"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">meio_de_transporte</span> <span class="op">==</span> <span class="st">"barco"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Diesel ou Gasolina"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Meio de transporte não reconhecido."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Exemplos de uso da função</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Meio de transporte: Carro\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meio de transporte: Carro</code></pre>
</div>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Tipo de combustível: "</span>, <span class="fu">classifica_combustivel</span><span class="op">(</span><span class="st">"Carro"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo de combustível:  Gasolina ou Diesel </code></pre>
</div>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Meio de transporte: Bicicleta\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meio de transporte: Bicicleta</code></pre>
</div>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Tipo de combustível: "</span>, <span class="fu">classifica_combustivel</span><span class="op">(</span><span class="st">"Bicicleta"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo de combustível:  Humana (sem combustível) </code></pre>
</div>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Meio de transporte: Avião\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meio de transporte: Avião</code></pre>
</div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Tipo de combustível: "</span>, <span class="fu">classifica_combustivel</span><span class="op">(</span><span class="st">"Avião"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo de combustível:  Querosene </code></pre>
</div>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Meio de transporte: Trem\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meio de transporte: Trem</code></pre>
</div>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Tipo de combustível: "</span>, <span class="fu">classifica_combustivel</span><span class="op">(</span><span class="st">"Trem"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo de combustível:  Diesel ou Gás Natural </code></pre>
</div>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Meio de transporte: Patins\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meio de transporte: Patins</code></pre>
</div>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Tipo de combustível: "</span>, <span class="fu">classifica_combustivel</span><span class="op">(</span><span class="st">"Patinete"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo de combustível:  Meio de transporte não reconhecido. </code></pre>
</div>
</div>
<ol start="2" type="1">
<li>
<strong>Conversão de Temperatura</strong>: Crie uma função chamada <code>converte_temperatura</code> que recebe uma temperatura em graus Celsius ou Fahrenheit como argumento e converte para graus Celsius ou Fahrenheit. A função recebe dois argumentos: A temperatura e a unidade de medida correspondente.</li>
</ol>
<div class="cell">
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">converte_temperatura</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">temperatura</span>, <span class="va">unidade</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">unidade</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">unidade</span><span class="op">)</span>  <span class="co"># Converter para minúsculas para facilitar a comparação</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">unidade</span> <span class="op">==</span> <span class="st">"c"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Converter de Celsius para Fahrenheit</span></span>
<span>    <span class="va">temperatura_fahrenheit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">temperatura</span> <span class="op">*</span> <span class="fl">9</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span> <span class="fl">32</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">temperatura</span>, <span class="st">"°C é igual a"</span>, <span class="va">temperatura_fahrenheit</span>, <span class="st">"°F"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">unidade</span> <span class="op">==</span> <span class="st">"f"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Converter de Fahrenheit para Celsius</span></span>
<span>    <span class="va">temperatura_celsius</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">temperatura</span> <span class="op">-</span> <span class="fl">32</span><span class="op">)</span> <span class="op">*</span> <span class="fl">5</span><span class="op">/</span><span class="fl">9</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">temperatura</span>, <span class="st">"°F é igual a"</span>, <span class="va">temperatura_celsius</span>, <span class="st">"°C"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Unidade de temperatura não reconhecida. Use 'C' para Celsius ou 'F' para Fahrenheit."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Exemplos de uso da função</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Temperatura: 25°C\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Temperatura: 25°C</code></pre>
</div>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu">converte_temperatura</span><span class="op">(</span><span class="fl">25</span>, <span class="st">"C"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>25 °C é igual a 77 °F </code></pre>
</div>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Temperatura: 75°F\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Temperatura: 75°F</code></pre>
</div>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu">converte_temperatura</span><span class="op">(</span><span class="fl">75</span>, <span class="st">"F"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>75 °F é igual a 23.89 °C </code></pre>
</div>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Temperatura: 100K\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Temperatura: 100K</code></pre>
</div>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu">converte_temperatura</span><span class="op">(</span><span class="fl">100</span>, <span class="st">"K"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unidade de temperatura não reconhecida. Use 'C' para Celsius ou 'F' para Fahrenheit. </code></pre>
</div>
</div>
<ol start="3" type="1">
<li>
<strong>Calculadora de IMC</strong>: Crie uma função chamada <code>calcula_imc</code> que recebe o peso (em quilogramas) e a altura (em metros) de uma pessoa como argumentos e calcula o Índice de Massa Corporal (IMC). Com base no IMC calculado, a função deve retornar uma mensagem que classifica a pessoa em uma das seguintes categorias: “Abaixo do Peso”, “Peso Normal”, “Sobrepeso” ou “Obesidade”.</li>
</ol>
<div class="cell">
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">calcula_imc</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">peso</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Calcular o IMC</span></span>
<span>  <span class="va">imc</span> <span class="op">&lt;-</span> <span class="va">peso</span> <span class="op">/</span> <span class="va">altura</span><span class="op">^</span><span class="fl">2</span></span>
<span>  </span>
<span>  <span class="co"># Classificar com base no IMC</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">imc</span> <span class="op">&lt;</span> <span class="fl">18.5</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Abaixo do Peso"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">imc</span> <span class="op">&gt;=</span> <span class="fl">18.5</span> <span class="op">&amp;&amp;</span> <span class="va">imc</span> <span class="op">&lt;</span> <span class="fl">25</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Peso Normal"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">imc</span> <span class="op">&gt;=</span> <span class="fl">25</span> <span class="op">&amp;&amp;</span> <span class="va">imc</span> <span class="op">&lt;</span> <span class="fl">30</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Sobrepeso"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="st">"Obesidade"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Exemplo de uso da função</span></span>
<span><span class="va">peso_exemplo</span> <span class="op">&lt;-</span> <span class="fl">70</span>  <span class="co"># em kg</span></span>
<span><span class="va">altura_exemplo</span> <span class="op">&lt;-</span> <span class="fl">1.75</span>  <span class="co"># em metros</span></span>
<span></span>
<span><span class="va">mensagem_classificacao</span> <span class="op">&lt;-</span> <span class="fu">calcula_imc</span><span class="op">(</span><span class="va">peso_exemplo</span>, <span class="va">altura_exemplo</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Peso:"</span>, <span class="va">peso_exemplo</span>, <span class="st">"kg\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Peso: 70 kg</code></pre>
</div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Altura:"</span>, <span class="va">altura_exemplo</span>, <span class="st">"m\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Altura: 1.75 m</code></pre>
</div>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Classificação:"</span>, <span class="va">mensagem_classificacao</span>, <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Classificação: Peso Normal </code></pre>
</div>
</div>


</section></section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>